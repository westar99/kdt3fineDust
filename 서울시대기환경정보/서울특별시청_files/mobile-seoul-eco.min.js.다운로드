// mobile-seoul-eco-traffic 1.0.0 2015-07-30
/* For compatibility with <=IE8 */
if (!Object.create) {
    Object.create = (function(){
        function F(){}
            return function(o){
            if (arguments.length != 1) {
                throw new Error('Object.create implementation only accepts one parameter.');
            }
            F.prototype = o;
            return new F();
        }
    })();
}

/* For compatibility with <=IE8 */
if (!Object.keys) Object.keys = function(o) {
	if (o !== Object(o))
	throw new TypeError('Object.keys called on a non-object');
	 var k=[],p;
	for (p in o) if (Object.prototype.hasOwnProperty.call(o,p)) k.push(p);
	return k;
}

//mobile-seoul-eco-traffic 1.0.0 2015-09-09
function addClass(a,b){try{a.classList.add(b)}catch(c){a.className.baseVal=a.className.baseVal+" "+b}}function removeClass(a,b){try{a.classList.remove(b)}catch(c){a.className.baseVal=a.className.baseVal.replace(b,"")}}!function(a,b,c,d){"use strict";function e(a,b,c){return setTimeout(k(a,c),b)}function f(a,b,c){return Array.isArray(a)?(g(a,c[b],c),!0):!1}function g(a,b,c){var e;if(a)if(a.forEach)a.forEach(b,c);else if(a.length!==d)for(e=0;e<a.length;)b.call(c,a[e],e,a),e++;else for(e in a)a.hasOwnProperty(e)&&b.call(c,a[e],e,a)}function h(a,b,c){for(var e=Object.keys(b),f=0;f<e.length;)(!c||c&&a[e[f]]===d)&&(a[e[f]]=b[e[f]]),f++;return a}function i(a,b){return h(a,b,!0)}function j(a,b,c){var d,e=b.prototype;d=a.prototype=Object.create(e),d.constructor=a,d._super=e,c&&h(d,c)}function k(a,b){return function(){return a.apply(b,arguments)}}function l(a,b){return typeof a==ka?a.apply(b?b[0]||d:d,b):a}function m(a,b){return a===d?b:a}function n(a,b,c){g(r(b),function(b){a.addEventListener(b,c,!1)})}function o(a,b,c){g(r(b),function(b){a.removeEventListener(b,c,!1)})}function p(a,b){for(;a;){if(a==b)return!0;a=a.parentNode}return!1}function q(a,b){return a.indexOf(b)>-1}function r(a){return a.trim().split(/\s+/g)}function s(a,b,c){if(a.indexOf&&!c)return a.indexOf(b);for(var d=0;d<a.length;){if(c&&a[d][c]==b||!c&&a[d]===b)return d;d++}return-1}function t(a){return Array.prototype.slice.call(a,0)}function u(a,b,c){for(var d=[],e=[],f=0;f<a.length;){var g=b?a[f][b]:a[f];s(e,g)<0&&d.push(a[f]),e[f]=g,f++}return c&&(d=b?d.sort(function(a,c){return a[b]>c[b]}):d.sort()),d}function v(a,b){for(var c,e,f=b[0].toUpperCase()+b.slice(1),g=0;g<ia.length;){if(c=ia[g],e=c?c+f:b,e in a)return e;g++}return d}function w(){return oa++}function x(a){var b=a.ownerDocument;return b.defaultView||b.parentWindow}function y(a,b){var c=this;this.manager=a,this.callback=b,this.element=a.element,this.target=a.options.inputTarget,this.domHandler=function(b){l(a.options.enable,[a])&&c.handler(b)},this.init()}function z(a){var b,c=a.options.inputClass;return new(b=c?c:ra?N:sa?Q:qa?S:M)(a,A)}function A(a,b,c){var d=c.pointers.length,e=c.changedPointers.length,f=b&ya&&d-e===0,g=b&(Aa|Ba)&&d-e===0;c.isFirst=!!f,c.isFinal=!!g,f&&(a.session={}),c.eventType=b,B(a,c),a.emit("hammer.input",c),a.recognize(c),a.session.prevInput=c}function B(a,b){var c=a.session,d=b.pointers,e=d.length;c.firstInput||(c.firstInput=E(b)),e>1&&!c.firstMultiple?c.firstMultiple=E(b):1===e&&(c.firstMultiple=!1);var f=c.firstInput,g=c.firstMultiple,h=g?g.center:f.center,i=b.center=F(d);b.timeStamp=na(),b.deltaTime=b.timeStamp-f.timeStamp,b.angle=J(h,i),b.distance=I(h,i),C(c,b),b.offsetDirection=H(b.deltaX,b.deltaY),b.scale=g?L(g.pointers,d):1,b.rotation=g?K(g.pointers,d):0,D(c,b);var j=a.element;p(b.srcEvent.target,j)&&(j=b.srcEvent.target),b.target=j}function C(a,b){var c=b.center,d=a.offsetDelta||{},e=a.prevDelta||{},f=a.prevInput||{};(b.eventType===ya||f.eventType===Aa)&&(e=a.prevDelta={x:f.deltaX||0,y:f.deltaY||0},d=a.offsetDelta={x:c.x,y:c.y}),b.deltaX=e.x+(c.x-d.x),b.deltaY=e.y+(c.y-d.y)}function D(a,b){var c,e,f,g,h=a.lastInterval||b,i=b.timeStamp-h.timeStamp;if(b.eventType!=Ba&&(i>xa||h.velocity===d)){var j=h.deltaX-b.deltaX,k=h.deltaY-b.deltaY,l=G(i,j,k);e=l.x,f=l.y,c=ma(l.x)>ma(l.y)?l.x:l.y,g=H(j,k),a.lastInterval=b}else c=h.velocity,e=h.velocityX,f=h.velocityY,g=h.direction;b.velocity=c,b.velocityX=e,b.velocityY=f,b.direction=g}function E(a){for(var b=[],c=0;c<a.pointers.length;)b[c]={clientX:la(a.pointers[c].clientX),clientY:la(a.pointers[c].clientY)},c++;return{timeStamp:na(),pointers:b,center:F(b),deltaX:a.deltaX,deltaY:a.deltaY}}function F(a){var b=a.length;if(1===b)return{x:la(a[0].clientX),y:la(a[0].clientY)};for(var c=0,d=0,e=0;b>e;)c+=a[e].clientX,d+=a[e].clientY,e++;return{x:la(c/b),y:la(d/b)}}function G(a,b,c){return{x:b/a||0,y:c/a||0}}function H(a,b){return a===b?Ca:ma(a)>=ma(b)?a>0?Da:Ea:b>0?Fa:Ga}function I(a,b,c){c||(c=Ka);var d=b[c[0]]-a[c[0]],e=b[c[1]]-a[c[1]];return Math.sqrt(d*d+e*e)}function J(a,b,c){c||(c=Ka);var d=b[c[0]]-a[c[0]],e=b[c[1]]-a[c[1]];return 180*Math.atan2(e,d)/Math.PI}function K(a,b){return J(b[1],b[0],La)-J(a[1],a[0],La)}function L(a,b){return I(b[0],b[1],La)/I(a[0],a[1],La)}function M(){this.evEl=Na,this.evWin=Oa,this.allow=!0,this.pressed=!1,y.apply(this,arguments)}function N(){this.evEl=Ra,this.evWin=Sa,y.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}function O(){this.evTarget=Ua,this.evWin=Va,this.started=!1,y.apply(this,arguments)}function P(a,b){var c=t(a.touches),d=t(a.changedTouches);return b&(Aa|Ba)&&(c=u(c.concat(d),"identifier",!0)),[c,d]}function Q(){this.evTarget=Xa,this.targetIds={},y.apply(this,arguments)}function R(a,b){var c=t(a.touches),d=this.targetIds;if(b&(ya|za)&&1===c.length)return d[c[0].identifier]=!0,[c,c];var e,f,g=t(a.changedTouches),h=[],i=this.target;if(f=c.filter(function(a){return p(a.target,i)}),b===ya)for(e=0;e<f.length;)d[f[e].identifier]=!0,e++;for(e=0;e<g.length;)d[g[e].identifier]&&h.push(g[e]),b&(Aa|Ba)&&delete d[g[e].identifier],e++;return h.length?[u(f.concat(h),"identifier",!0),h]:void 0}function S(){y.apply(this,arguments);var a=k(this.handler,this);this.touch=new Q(this.manager,a),this.mouse=new M(this.manager,a)}function T(a,b){this.manager=a,this.set(b)}function U(a){if(q(a,bb))return bb;var b=q(a,cb),c=q(a,db);return b&&c?cb+" "+db:b||c?b?cb:db:q(a,ab)?ab:_a}function V(a){this.id=w(),this.manager=null,this.options=i(a||{},this.defaults),this.options.enable=m(this.options.enable,!0),this.state=eb,this.simultaneous={},this.requireFail=[]}function W(a){return a&jb?"cancel":a&hb?"end":a&gb?"move":a&fb?"start":""}function X(a){return a==Ga?"down":a==Fa?"up":a==Da?"left":a==Ea?"right":""}function Y(a,b){var c=b.manager;return c?c.get(a):a}function Z(){V.apply(this,arguments)}function $(){Z.apply(this,arguments),this.pX=null,this.pY=null}function _(){Z.apply(this,arguments)}function aa(){V.apply(this,arguments),this._timer=null,this._input=null}function ba(){Z.apply(this,arguments)}function ca(){Z.apply(this,arguments)}function da(){V.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function ea(a,b){return b=b||{},b.recognizers=m(b.recognizers,ea.defaults.preset),new fa(a,b)}function fa(a,b){b=b||{},this.options=i(b,ea.defaults),this.options.inputTarget=this.options.inputTarget||a,this.handlers={},this.session={},this.recognizers=[],this.element=a,this.input=z(this),this.touchAction=new T(this,this.options.touchAction),ga(this,!0),g(b.recognizers,function(a){var b=this.add(new a[0](a[1]));a[2]&&b.recognizeWith(a[2]),a[3]&&b.requireFailure(a[3])},this)}function ga(a,b){var c=a.element;g(a.options.cssProps,function(a,d){c.style[v(c.style,d)]=b?a:""})}function ha(a,c){var d=b.createEvent("Event");d.initEvent(a,!0,!0),d.gesture=c,c.target.dispatchEvent(d)}var ia=["","webkit","moz","MS","ms","o"],ja=b.createElement("div"),ka="function",la=Math.round,ma=Math.abs,na=Date.now,oa=1,pa=/mobile|tablet|ip(ad|hone|od)|android/i,qa="ontouchstart"in a,ra=v(a,"PointerEvent")!==d,sa=qa&&pa.test(navigator.userAgent),ta="touch",ua="pen",va="mouse",wa="kinect",xa=25,ya=1,za=2,Aa=4,Ba=8,Ca=1,Da=2,Ea=4,Fa=8,Ga=16,Ha=Da|Ea,Ia=Fa|Ga,Ja=Ha|Ia,Ka=["x","y"],La=["clientX","clientY"];y.prototype={handler:function(){},init:function(){this.evEl&&n(this.element,this.evEl,this.domHandler),this.evTarget&&n(this.target,this.evTarget,this.domHandler),this.evWin&&n(x(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&o(this.element,this.evEl,this.domHandler),this.evTarget&&o(this.target,this.evTarget,this.domHandler),this.evWin&&o(x(this.element),this.evWin,this.domHandler)}};var Ma={mousedown:ya,mousemove:za,mouseup:Aa},Na="mousedown",Oa="mousemove mouseup";j(M,y,{handler:function(a){var b=Ma[a.type];b&ya&&0===a.button&&(this.pressed=!0),b&za&&1!==a.which&&(b=Aa),this.pressed&&this.allow&&(b&Aa&&(this.pressed=!1),this.callback(this.manager,b,{pointers:[a],changedPointers:[a],pointerType:va,srcEvent:a}))}});var Pa={pointerdown:ya,pointermove:za,pointerup:Aa,pointercancel:Ba,pointerout:Ba},Qa={2:ta,3:ua,4:va,5:wa},Ra="pointerdown",Sa="pointermove pointerup pointercancel";a.MSPointerEvent&&(Ra="MSPointerDown",Sa="MSPointerMove MSPointerUp MSPointerCancel"),j(N,y,{handler:function(a){var b=this.store,c=!1,d=a.type.toLowerCase().replace("ms",""),e=Pa[d],f=Qa[a.pointerType]||a.pointerType,g=f==ta,h=s(b,a.pointerId,"pointerId");e&ya&&(0===a.button||g)?0>h&&(b.push(a),h=b.length-1):e&(Aa|Ba)&&(c=!0),0>h||(b[h]=a,this.callback(this.manager,e,{pointers:b,changedPointers:[a],pointerType:f,srcEvent:a}),c&&b.splice(h,1))}});var Ta={touchstart:ya,touchmove:za,touchend:Aa,touchcancel:Ba},Ua="touchstart",Va="touchstart touchmove touchend touchcancel";j(O,y,{handler:function(a){var b=Ta[a.type];if(b===ya&&(this.started=!0),this.started){var c=P.call(this,a,b);b&(Aa|Ba)&&c[0].length-c[1].length===0&&(this.started=!1),this.callback(this.manager,b,{pointers:c[0],changedPointers:c[1],pointerType:ta,srcEvent:a})}}});var Wa={touchstart:ya,touchmove:za,touchend:Aa,touchcancel:Ba},Xa="touchstart touchmove touchend touchcancel";j(Q,y,{handler:function(a){var b=Wa[a.type],c=R.call(this,a,b);c&&this.callback(this.manager,b,{pointers:c[0],changedPointers:c[1],pointerType:ta,srcEvent:a})}}),j(S,y,{handler:function(a,b,c){var d=c.pointerType==ta,e=c.pointerType==va;if(d)this.mouse.allow=!1;else if(e&&!this.mouse.allow)return;b&(Aa|Ba)&&(this.mouse.allow=!0),this.callback(a,b,c)},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var Ya=v(ja.style,"touchAction"),Za=Ya!==d,$a="compute",_a="auto",ab="manipulation",bb="none",cb="pan-x",db="pan-y";T.prototype={set:function(a){a==$a&&(a=this.compute()),Za&&(this.manager.element.style[Ya]=a),this.actions=a.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var a=[];return g(this.manager.recognizers,function(b){l(b.options.enable,[b])&&(a=a.concat(b.getTouchAction()))}),U(a.join(" "))},preventDefaults:function(a){if(!Za){var b=a.srcEvent,c=a.offsetDirection;if(this.manager.session.prevented)return void b.preventDefault();var d=this.actions,e=q(d,bb),f=q(d,db),g=q(d,cb);return e||f&&c&Ha||g&&c&Ia?this.preventSrc(b):void 0}},preventSrc:function(a){this.manager.session.prevented=!0,a.preventDefault()}};var eb=1,fb=2,gb=4,hb=8,ib=hb,jb=16,kb=32;V.prototype={defaults:{},set:function(a){return h(this.options,a),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(a){if(f(a,"recognizeWith",this))return this;var b=this.simultaneous;return a=Y(a,this),b[a.id]||(b[a.id]=a,a.recognizeWith(this)),this},dropRecognizeWith:function(a){return f(a,"dropRecognizeWith",this)?this:(a=Y(a,this),delete this.simultaneous[a.id],this)},requireFailure:function(a){if(f(a,"requireFailure",this))return this;var b=this.requireFail;return a=Y(a,this),-1===s(b,a)&&(b.push(a),a.requireFailure(this)),this},dropRequireFailure:function(a){if(f(a,"dropRequireFailure",this))return this;a=Y(a,this);var b=s(this.requireFail,a);return b>-1&&this.requireFail.splice(b,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(a){return!!this.simultaneous[a.id]},emit:function(a){function b(b){c.manager.emit(c.options.event+(b?W(d):""),a)}var c=this,d=this.state;hb>d&&b(!0),b(),d>=hb&&b(!0)},tryEmit:function(a){return this.canEmit()?this.emit(a):void(this.state=kb)},canEmit:function(){for(var a=0;a<this.requireFail.length;){if(!(this.requireFail[a].state&(kb|eb)))return!1;a++}return!0},recognize:function(a){var b=h({},a);return l(this.options.enable,[this,b])?(this.state&(ib|jb|kb)&&(this.state=eb),this.state=this.process(b),void(this.state&(fb|gb|hb|jb)&&this.tryEmit(b))):(this.reset(),void(this.state=kb))},process:function(a){},getTouchAction:function(){},reset:function(){}},j(Z,V,{defaults:{pointers:1},attrTest:function(a){var b=this.options.pointers;return 0===b||a.pointers.length===b},process:function(a){var b=this.state,c=a.eventType,d=b&(fb|gb),e=this.attrTest(a);return d&&(c&Ba||!e)?b|jb:d||e?c&Aa?b|hb:b&fb?b|gb:fb:kb}}),j($,Z,{defaults:{event:"pan",threshold:10,pointers:1,direction:Ja},getTouchAction:function(){var a=this.options.direction,b=[];return a&Ha&&b.push(db),a&Ia&&b.push(cb),b},directionTest:function(a){var b=this.options,c=!0,d=a.distance,e=a.direction,f=a.deltaX,g=a.deltaY;return e&b.direction||(b.direction&Ha?(e=0===f?Ca:0>f?Da:Ea,c=f!=this.pX,d=Math.abs(a.deltaX)):(e=0===g?Ca:0>g?Fa:Ga,c=g!=this.pY,d=Math.abs(a.deltaY))),a.direction=e,c&&d>b.threshold&&e&b.direction},attrTest:function(a){return Z.prototype.attrTest.call(this,a)&&(this.state&fb||!(this.state&fb)&&this.directionTest(a))},emit:function(a){this.pX=a.deltaX,this.pY=a.deltaY;var b=X(a.direction);b&&this.manager.emit(this.options.event+b,a),this._super.emit.call(this,a)}}),j(_,Z,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[bb]},attrTest:function(a){return this._super.attrTest.call(this,a)&&(Math.abs(a.scale-1)>this.options.threshold||this.state&fb)},emit:function(a){if(this._super.emit.call(this,a),1!==a.scale){var b=a.scale<1?"in":"out";this.manager.emit(this.options.event+b,a)}}}),j(aa,V,{defaults:{event:"press",pointers:1,time:500,threshold:5},getTouchAction:function(){return[_a]},process:function(a){var b=this.options,c=a.pointers.length===b.pointers,d=a.distance<b.threshold,f=a.deltaTime>b.time;if(this._input=a,!d||!c||a.eventType&(Aa|Ba)&&!f)this.reset();else if(a.eventType&ya)this.reset(),this._timer=e(function(){this.state=ib,this.tryEmit()},b.time,this);else if(a.eventType&Aa)return ib;return kb},reset:function(){clearTimeout(this._timer)},emit:function(a){this.state===ib&&(a&&a.eventType&Aa?this.manager.emit(this.options.event+"up",a):(this._input.timeStamp=na(),this.manager.emit(this.options.event,this._input)))}}),j(ba,Z,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[bb]},attrTest:function(a){return this._super.attrTest.call(this,a)&&(Math.abs(a.rotation)>this.options.threshold||this.state&fb)}}),j(ca,Z,{defaults:{event:"swipe",threshold:10,velocity:.65,direction:Ha|Ia,pointers:1},getTouchAction:function(){return $.prototype.getTouchAction.call(this)},attrTest:function(a){var b,c=this.options.direction;return c&(Ha|Ia)?b=a.velocity:c&Ha?b=a.velocityX:c&Ia&&(b=a.velocityY),this._super.attrTest.call(this,a)&&c&a.direction&&a.distance>this.options.threshold&&ma(b)>this.options.velocity&&a.eventType&Aa},emit:function(a){var b=X(a.direction);b&&this.manager.emit(this.options.event+b,a),this.manager.emit(this.options.event,a)}}),j(da,V,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:2,posThreshold:10},getTouchAction:function(){return[ab]},process:function(a){var b=this.options,c=a.pointers.length===b.pointers,d=a.distance<b.threshold,f=a.deltaTime<b.time;if(this.reset(),a.eventType&ya&&0===this.count)return this.failTimeout();if(d&&f&&c){if(a.eventType!=Aa)return this.failTimeout();var g=this.pTime?a.timeStamp-this.pTime<b.interval:!0,h=!this.pCenter||I(this.pCenter,a.center)<b.posThreshold;this.pTime=a.timeStamp,this.pCenter=a.center,h&&g?this.count+=1:this.count=1,this._input=a;var i=this.count%b.taps;if(0===i)return this.hasRequireFailures()?(this._timer=e(function(){this.state=ib,this.tryEmit()},b.interval,this),fb):ib}return kb},failTimeout:function(){return this._timer=e(function(){this.state=kb},this.options.interval,this),kb},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==ib&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),ea.VERSION="2.0.4",ea.defaults={domEvents:!1,touchAction:$a,enable:!0,inputTarget:null,inputClass:null,preset:[[ba,{enable:!1}],[_,{enable:!1},["rotate"]],[ca,{direction:Ha}],[$,{direction:Ha},["swipe"]],[da],[da,{event:"doubletap",taps:2},["tap"]],[aa]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var lb=1,mb=2;fa.prototype={set:function(a){return h(this.options,a),a.touchAction&&this.touchAction.update(),a.inputTarget&&(this.input.destroy(),this.input.target=a.inputTarget,this.input.init()),this},stop:function(a){this.session.stopped=a?mb:lb},recognize:function(a){var b=this.session;if(!b.stopped){this.touchAction.preventDefaults(a);var c,d=this.recognizers,e=b.curRecognizer;(!e||e&&e.state&ib)&&(e=b.curRecognizer=null);for(var f=0;f<d.length;)c=d[f],b.stopped===mb||e&&c!=e&&!c.canRecognizeWith(e)?c.reset():c.recognize(a),!e&&c.state&(fb|gb|hb)&&(e=b.curRecognizer=c),f++}},get:function(a){if(a instanceof V)return a;for(var b=this.recognizers,c=0;c<b.length;c++)if(b[c].options.event==a)return b[c];return null},add:function(a){if(f(a,"add",this))return this;var b=this.get(a.options.event);return b&&this.remove(b),this.recognizers.push(a),a.manager=this,this.touchAction.update(),a},remove:function(a){if(f(a,"remove",this))return this;var b=this.recognizers;return a=this.get(a),b.splice(s(b,a),1),this.touchAction.update(),this},on:function(a,b){var c=this.handlers;return g(r(a),function(a){c[a]=c[a]||[],c[a].push(b)}),this},off:function(a,b){var c=this.handlers;return g(r(a),function(a){b?c[a].splice(s(c[a],b),1):delete c[a]}),this},emit:function(a,b){this.options.domEvents&&ha(a,b);var c=this.handlers[a]&&this.handlers[a].slice();if(c&&c.length){b.type=a,b.preventDefault=function(){b.srcEvent.preventDefault()};for(var d=0;d<c.length;)c[d](b),d++}},destroy:function(){this.element&&ga(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},h(ea,{INPUT_START:ya,INPUT_MOVE:za,INPUT_END:Aa,INPUT_CANCEL:Ba,STATE_POSSIBLE:eb,STATE_BEGAN:fb,STATE_CHANGED:gb,STATE_ENDED:hb,STATE_RECOGNIZED:ib,STATE_CANCELLED:jb,STATE_FAILED:kb,DIRECTION_NONE:Ca,DIRECTION_LEFT:Da,DIRECTION_RIGHT:Ea,DIRECTION_UP:Fa,DIRECTION_DOWN:Ga,DIRECTION_HORIZONTAL:Ha,DIRECTION_VERTICAL:Ia,DIRECTION_ALL:Ja,Manager:fa,Input:y,TouchAction:T,TouchInput:Q,MouseInput:M,PointerEventInput:N,TouchMouseInput:S,SingleTouchInput:O,Recognizer:V,AttrRecognizer:Z,Tap:da,Pan:$,Swipe:ca,Pinch:_,Rotate:ba,Press:aa,on:n,off:o,each:g,merge:i,extend:h,inherit:j,bindFn:k,prefixed:v}),typeof define==ka&&define.amd?define(function(){return ea}):"undefined"!=typeof module&&module.exports?module.exports=ea:a[c]=ea}(window,document,"Hammer"),function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){var d=a("./svg-pan-zoom.js");!function(a,c){"function"==typeof define&&define.amd?define("svg-pan-zoom",function(){return d}):"undefined"!=typeof b&&b.exports&&(b.exports=d,a.svgPanZoom=d)}(window,document)},{"./svg-pan-zoom.js":4}],2:[function(a,b,c){var d=a("./svg-utilities");b.exports={enable:function(a){var b=a.svg.querySelector("defs");b||(b=document.createElementNS(d.svgNS,"defs"),a.svg.appendChild(b));var c=document.createElementNS(d.svgNS,"style");c.setAttribute("type","text/css"),c.textContent=".svg-pan-zoom-control { cursor: pointer; fill: black; fill-opacity: 0.333; } .svg-pan-zoom-control:hover { fill-opacity: 0.8; } .svg-pan-zoom-control-background { fill: white; fill-opacity: 0.5; } .svg-pan-zoom-control-background { fill-opacity: 0.8; }",b.appendChild(c);var e=document.createElementNS(d.svgNS,"g");e.setAttribute("id","svg-pan-zoom-controls"),e.setAttribute("transform","translate("+(a.width-70)+" "+(a.height-76)+") scale(0.75)"),e.setAttribute("class","svg-pan-zoom-control"),e.appendChild(this._createZoomIn(a)),e.appendChild(this._createZoomReset(a)),e.appendChild(this._createZoomOut(a)),a.svg.appendChild(e),a.controlIcons=e},_createZoomIn:function(a){var b=document.createElementNS(d.svgNS,"g");b.setAttribute("id","svg-pan-zoom-zoom-in"),b.setAttribute("transform","translate(30.5 5) scale(0.015)"),b.setAttribute("class","svg-pan-zoom-control"),b.addEventListener("click",function(){a.getPublicInstance().zoomIn()},!1),b.addEventListener("touchstart",function(){a.getPublicInstance().zoomIn()},!1);var c=document.createElementNS(d.svgNS,"rect");c.setAttribute("x","0"),c.setAttribute("y","0"),c.setAttribute("width","1500"),c.setAttribute("height","1400"),c.setAttribute("class","svg-pan-zoom-control-background"),b.appendChild(c);var e=document.createElementNS(d.svgNS,"path");return e.setAttribute("d","M1280 576v128q0 26 -19 45t-45 19h-320v320q0 26 -19 45t-45 19h-128q-26 0 -45 -19t-19 -45v-320h-320q-26 0 -45 -19t-19 -45v-128q0 -26 19 -45t45 -19h320v-320q0 -26 19 -45t45 -19h128q26 0 45 19t19 45v320h320q26 0 45 19t19 45zM1536 1120v-960 q0 -119 -84.5 -203.5t-203.5 -84.5h-960q-119 0 -203.5 84.5t-84.5 203.5v960q0 119 84.5 203.5t203.5 84.5h960q119 0 203.5 -84.5t84.5 -203.5z"),e.setAttribute("class","svg-pan-zoom-control-element"),b.appendChild(e),b},_createZoomReset:function(a){var b=document.createElementNS(d.svgNS,"g");b.setAttribute("id","svg-pan-zoom-reset-pan-zoom"),b.setAttribute("transform","translate(5 35) scale(0.4)"),b.setAttribute("class","svg-pan-zoom-control"),b.addEventListener("click",function(){a.getPublicInstance().reset()},!1),b.addEventListener("touchstart",function(){a.getPublicInstance().reset()},!1);var c=document.createElementNS(d.svgNS,"rect");c.setAttribute("x","2"),c.setAttribute("y","2"),c.setAttribute("width","182"),c.setAttribute("height","58"),c.setAttribute("class","svg-pan-zoom-control-background"),b.appendChild(c);var e=document.createElementNS(d.svgNS,"path");e.setAttribute("d","M33.051,20.632c-0.742-0.406-1.854-0.609-3.338-0.609h-7.969v9.281h7.769c1.543,0,2.701-0.188,3.473-0.562c1.365-0.656,2.048-1.953,2.048-3.891C35.032,22.757,34.372,21.351,33.051,20.632z"),e.setAttribute("class","svg-pan-zoom-control-element"),b.appendChild(e);var f=document.createElementNS(d.svgNS,"path");return f.setAttribute("d","M170.231,0.5H15.847C7.102,0.5,0.5,5.708,0.5,11.84v38.861C0.5,56.833,7.102,61.5,15.847,61.5h154.384c8.745,0,15.269-4.667,15.269-10.798V11.84C185.5,5.708,178.976,0.5,170.231,0.5z M42.837,48.569h-7.969c-0.219-0.766-0.375-1.383-0.469-1.852c-0.188-0.969-0.289-1.961-0.305-2.977l-0.047-3.211c-0.03-2.203-0.41-3.672-1.142-4.406c-0.732-0.734-2.103-1.102-4.113-1.102h-7.05v13.547h-7.055V14.022h16.524c2.361,0.047,4.178,0.344,5.45,0.891c1.272,0.547,2.351,1.352,3.234,2.414c0.731,0.875,1.31,1.844,1.737,2.906s0.64,2.273,0.64,3.633c0,1.641-0.414,3.254-1.242,4.84s-2.195,2.707-4.102,3.363c1.594,0.641,2.723,1.551,3.387,2.73s0.996,2.98,0.996,5.402v2.32c0,1.578,0.063,2.648,0.19,3.211c0.19,0.891,0.635,1.547,1.333,1.969V48.569z M75.579,48.569h-26.18V14.022h25.336v6.117H56.454v7.336h16.781v6H56.454v8.883h19.125V48.569z M104.497,46.331c-2.44,2.086-5.887,3.129-10.34,3.129c-4.548,0-8.125-1.027-10.731-3.082s-3.909-4.879-3.909-8.473h6.891c0.224,1.578,0.662,2.758,1.316,3.539c1.196,1.422,3.246,2.133,6.15,2.133c1.739,0,3.151-0.188,4.236-0.562c2.058-0.719,3.087-2.055,3.087-4.008c0-1.141-0.504-2.023-1.512-2.648c-1.008-0.609-2.607-1.148-4.796-1.617l-3.74-0.82c-3.676-0.812-6.201-1.695-7.576-2.648c-2.328-1.594-3.492-4.086-3.492-7.477c0-3.094,1.139-5.664,3.417-7.711s5.623-3.07,10.036-3.07c3.685,0,6.829,0.965,9.431,2.895c2.602,1.93,3.966,4.73,4.093,8.402h-6.938c-0.128-2.078-1.057-3.555-2.787-4.43c-1.154-0.578-2.587-0.867-4.301-0.867c-1.907,0-3.428,0.375-4.565,1.125c-1.138,0.75-1.706,1.797-1.706,3.141c0,1.234,0.561,2.156,1.682,2.766c0.721,0.406,2.25,0.883,4.589,1.43l6.063,1.43c2.657,0.625,4.648,1.461,5.975,2.508c2.059,1.625,3.089,3.977,3.089,7.055C108.157,41.624,106.937,44.245,104.497,46.331z M139.61,48.569h-26.18V14.022h25.336v6.117h-18.281v7.336h16.781v6h-16.781v8.883h19.125V48.569z M170.337,20.14h-10.336v28.43h-7.266V20.14h-10.383v-6.117h27.984V20.14z"),f.setAttribute("class","svg-pan-zoom-control-element"),b.appendChild(f),b},_createZoomOut:function(a){var b=document.createElementNS(d.svgNS,"g");b.setAttribute("id","svg-pan-zoom-zoom-out"),b.setAttribute("transform","translate(30.5 70) scale(0.015)"),b.setAttribute("class","svg-pan-zoom-control"),b.addEventListener("click",function(){a.getPublicInstance().zoomOut()},!1),b.addEventListener("touchstart",function(){a.getPublicInstance().zoomOut()},!1);var c=document.createElementNS(d.svgNS,"rect");c.setAttribute("x","0"),c.setAttribute("y","0"),c.setAttribute("width","1500"),c.setAttribute("height","1400"),c.setAttribute("class","svg-pan-zoom-control-background"),b.appendChild(c);var e=document.createElementNS(d.svgNS,"path");return e.setAttribute("d","M1280 576v128q0 26 -19 45t-45 19h-896q-26 0 -45 -19t-19 -45v-128q0 -26 19 -45t45 -19h896q26 0 45 19t19 45zM1536 1120v-960q0 -119 -84.5 -203.5t-203.5 -84.5h-960q-119 0 -203.5 84.5t-84.5 203.5v960q0 119 84.5 203.5t203.5 84.5h960q119 0 203.5 -84.5 t84.5 -203.5z"),e.setAttribute("class","svg-pan-zoom-control-element"),b.appendChild(e),b},disable:function(a){a.controlIcons&&(a.controlIcons.parentNode.removeChild(a.controlIcons),a.controlIcons=null)}}},{"./svg-utilities":5}],3:[function(a,b,c){var d=a("./svg-utilities"),e=a("./utilities"),f=function(a,b){this.init(a,b)};f.prototype.init=function(a,b){this.viewport=a,this.options=b,this.originalState={zoom:1,x:0,y:0},this.activeState={zoom:1,x:0,y:0},this.updateCTMCached=e.proxy(this.updateCTM,this),this.requestAnimationFrame=e.createRequestAnimationFrame(this.options.refreshRate),this.viewBox={x:0,y:0,width:0,height:0},this.cacheViewBox(),this.processCTM()},f.prototype.cacheViewBox=function(){var a=this.options.svg.getAttribute("viewBox");if(a){var b=a.split(" ").map(parseFloat);this.viewBox.x=b[0],this.viewBox.y=b[1],this.viewBox.width=b[2],this.viewBox.height=b[3];var c=Math.min(this.options.width/this.viewBox.width,this.options.height/this.viewBox.height);this.activeState.zoom=c,this.activeState.x=(this.options.width-this.viewBox.width*c)/2,this.activeState.y=(this.options.height-this.viewBox.height*c)/2,this.updateCTMOnNextFrame(),this.options.svg.removeAttribute("viewBox")}else{var d=this.viewport.getBBox();this.viewBox.x=d.x,this.viewBox.y=d.y,this.viewBox.width=d.width,this.viewBox.height=d.height}},f.prototype.recacheViewBox=function(){var a=this.viewport.getBoundingClientRect(),b=a.width/this.getZoom(),c=a.height/this.getZoom();this.viewBox.x=0,this.viewBox.y=0,this.viewBox.width=b,this.viewBox.height=c},f.prototype.getViewBox=function(){return e.extend({},this.viewBox)},f.prototype.processCTM=function(){var a=this.getCTM();if(this.options.fit){var b=Math.min(this.options.width/(this.viewBox.width-this.viewBox.x),this.options.height/(this.viewBox.height-this.viewBox.y));a.a=b,a.d=b,a.e=-this.viewBox.x*b,a.f=-this.viewBox.y*b}if(this.options.center){var c=.5*(this.options.width-(this.viewBox.width+this.viewBox.x)*a.a),d=.5*(this.options.height-(this.viewBox.height+this.viewBox.y)*a.a);a.e=c,a.f=d}this.originalState.zoom=a.a,this.originalState.x=a.e,this.originalState.y=a.f,this.setCTM(a)},f.prototype.getOriginalState=function(){return e.extend({},this.originalState)},f.prototype.getState=function(){return e.extend({},this.activeState)},f.prototype.getZoom=function(){return this.activeState.zoom},f.prototype.getRelativeZoom=function(){return this.activeState.zoom/this.originalState.zoom},f.prototype.computeRelativeZoom=function(a){return a/this.originalState.zoom},f.prototype.getPan=function(){return{x:this.activeState.x,y:this.activeState.y}},f.prototype.getCTM=function(){var a=this.options.svg.createSVGMatrix();return a.a=this.activeState.zoom,a.b=0,a.c=0,a.d=this.activeState.zoom,a.e=this.activeState.x,a.f=this.activeState.y,a},f.prototype.setCTM=function(a){var b=this.isZoomDifferent(a),c=this.isPanDifferent(a);if(b||c){if(b&&this.options.beforeZoom(this.getRelativeZoom(),this.computeRelativeZoom(a.a))===!1&&(a.a=a.d=this.activeState.zoom,b=!1),c){var d=this.options.beforePan(this.getPan(),{x:a.e,y:a.f}),f=!1,g=!1;d===!1?(a.e=this.getPan().x,a.f=this.getPan().y,f=g=!0):e.isObject(d)&&(d.x===!1?(a.e=this.getPan().x,f=!0):e.isNumber(d.x)&&(a.e=d.x),d.y===!1?(a.f=this.getPan().y,g=!0):e.isNumber(d.y)&&(a.f=d.y)),f&&g&&(c=!1)}(b||c)&&(this.updateCache(a),this.updateCTMOnNextFrame(),b&&this.options.onZoom(this.getRelativeZoom()),c&&this.options.onPan(this.getPan()))}},f.prototype.isZoomDifferent=function(a){return this.activeState.zoom!==a.a},f.prototype.isPanDifferent=function(a){return this.activeState.x!==a.e||this.activeState.y!==a.f},f.prototype.updateCache=function(a){this.activeState.zoom=a.a,this.activeState.x=a.e,this.activeState.y=a.f},f.prototype.pendingUpdate=!1,f.prototype.updateCTMOnNextFrame=function(){this.pendingUpdate||(this.pendingUpdate=!0,this.requestAnimationFrame.call(window,this.updateCTMCached))},f.prototype.updateCTM=function(){d.setCTM(this.viewport,this.getCTM(),this.defs),this.pendingUpdate=!1},b.exports=function(a,b){return new f(a,b)}},{"./svg-utilities":5,"./utilities":7}],4:[function(a,b,c){var d=a("./uniwheel"),e=a("./control-icons"),f=a("./utilities"),g=a("./svg-utilities"),h=a("./shadow-viewport"),i=function(a,b){this.init(a,b)},j={viewportSelector:".svg-pan-zoom_viewport",panEnabled:!0,controlIconsEnabled:!1,zoomEnabled:!0,dblClickZoomEnabled:!0,mouseWheelZoomEnabled:!0,zoomScaleSensitivity:.2,minZoom:.5,maxZoom:10,fit:!0,center:!0,refreshRate:"auto",beforeZoom:null,onZoom:null,beforePan:null,onPan:null,customEventsHandler:null};i.prototype.init=function(a,b){var c=this;this.svg=a,this.defs=a.querySelector("defs"),g.setupSvgAttributes(this.svg),this.options=f.extend(f.extend({},j),b),this.state="none";var d=g.getBoundingClientRectNormalized(a);this.width=d.width,this.height=d.height,this.viewport=h(g.getOrCreateViewport(this.svg,this.options.viewportSelector),{svg:this.svg,width:this.width,height:this.height,fit:this.options.fit,center:this.options.center,refreshRate:this.options.refreshRate,beforeZoom:function(a,b){return c.viewport&&c.options.beforeZoom?c.options.beforeZoom(a,b):void 0},onZoom:function(a){return c.viewport&&c.options.onZoom?c.options.onZoom(a):void 0},beforePan:function(a,b){return c.viewport&&c.options.beforePan?c.options.beforePan(a,b):void 0},onPan:function(a){return c.viewport&&c.options.onPan?c.options.onPan(a):void 0}});var i=this.getPublicInstance();i.setBeforeZoom(this.options.beforeZoom),i.setOnZoom(this.options.onZoom),i.setBeforePan(this.options.beforePan),i.setOnPan(this.options.onPan),this.options.controlIconsEnabled&&e.enable(this),this.setupHandlers()},i.prototype.setupHandlers=function(){var a=this,b=null;if(this.eventListeners={mousedown:function(b){return a.handleMouseDown(b,null)},touchstart:function(c){var d=a.handleMouseDown(c,b);return b=c,d},mouseup:function(b){return a.handleMouseUp(b)},touchend:function(b){return a.handleMouseUp(b)},mousemove:function(b){return a.handleMouseMove(b)},touchmove:function(b){return a.handleMouseMove(b)},mouseleave:function(b){return a.handleMouseUp(b)},touchleave:function(b){return a.handleMouseUp(b)},touchcancel:function(b){return a.handleMouseUp(b)}},null!=this.options.customEventsHandler){this.options.customEventsHandler.init({svgElement:this.svg,instance:this.getPublicInstance()});var c=this.options.customEventsHandler.haltEventListeners;if(c&&c.length)for(var d=c.length-1;d>=0;d--)this.eventListeners.hasOwnProperty(c[d])&&delete this.eventListeners[c[d]]}for(var e in this.eventListeners)this.svg.addEventListener(e,this.eventListeners[e],!1);this.options.mouseWheelZoomEnabled&&(this.options.mouseWheelZoomEnabled=!1,this.enableMouseWheelZoom())},i.prototype.enableMouseWheelZoom=function(){if(!this.options.mouseWheelZoomEnabled){var a=this;this.wheelListener=function(b){return a.handleMouseWheel(b)},d.on(this.svg,this.wheelListener,!1),this.options.mouseWheelZoomEnabled=!0}},i.prototype.disableMouseWheelZoom=function(){this.options.mouseWheelZoomEnabled&&(d.off(this.svg,this.wheelListener,!1),
this.options.mouseWheelZoomEnabled=!1)},i.prototype.handleMouseWheel=function(a){if(this.options.zoomEnabled&&"none"===this.state){a.preventDefault?a.preventDefault():a.returnValue=!1;var b=0;b="deltaMode"in a&&0===a.deltaMode?a.wheelDelta?a.deltaY/Math.abs(a.wheelDelta/3):a.deltaY/120:"mozPressure"in a?a.deltaY/3:a.deltaY;var c=this.svg.getScreenCTM().inverse(),d=g.getEventPoint(a,this.svg).matrixTransform(c),e=Math.pow(1+this.options.zoomScaleSensitivity,-1*b);this.zoomAtPoint(e,d)}},i.prototype.zoomAtPoint=function(a,b,c){var d=this.viewport.getOriginalState();c?(a=Math.max(this.options.minZoom*d.zoom,Math.min(this.options.maxZoom*d.zoom,a)),a/=this.getZoom()):this.getZoom()*a<this.options.minZoom*d.zoom?a=this.options.minZoom*d.zoom/this.getZoom():this.getZoom()*a>this.options.maxZoom*d.zoom&&(a=this.options.maxZoom*d.zoom/this.getZoom());var e=this.viewport.getCTM(),f=b.matrixTransform(e.inverse()),g=this.svg.createSVGMatrix().translate(f.x,f.y).scale(a).translate(-f.x,-f.y),h=e.multiply(g);h.a!==e.a&&this.viewport.setCTM(h)},i.prototype.zoom=function(a,b){this.zoomAtPoint(a,g.getSvgCenterPoint(this.svg,this.width,this.height),b)},i.prototype.publicZoom=function(a,b){b&&(a=this.computeFromRelativeZoom(a)),this.zoom(a,b)},i.prototype.publicZoomAtPoint=function(a,b,c){if(c&&(a=this.computeFromRelativeZoom(a)),!("SVGPoint"!==f.getType(b)&&"x"in b&&"y"in b))throw new Error("Given point is invalid");b=g.createSVGPoint(this.svg,b.x,b.y),this.zoomAtPoint(a,b,c)},i.prototype.getZoom=function(){return this.viewport.getZoom()},i.prototype.getRelativeZoom=function(){return this.viewport.getRelativeZoom()},i.prototype.computeFromRelativeZoom=function(a){return a*this.viewport.getOriginalState().zoom},i.prototype.resetZoom=function(){var a=this.viewport.getOriginalState();this.zoom(a.zoom,!0)},i.prototype.resetPan=function(){this.pan(this.viewport.getOriginalState())},i.prototype.reset=function(){this.resetZoom(),this.resetPan()},i.prototype.handleDblClick=function(a){if(a.preventDefault?a.preventDefault():a.returnValue=!1,this.options.controlIconsEnabled){var b=a.target.getAttribute("class")||"";if(b.indexOf("svg-pan-zoom-control")>-1)return!1}var c;c=a.shiftKey?1/(2*(1+this.options.zoomScaleSensitivity)):2*(1+this.options.zoomScaleSensitivity);var d=g.getEventPoint(a,this.svg).matrixTransform(this.svg.getScreenCTM().inverse());this.zoomAtPoint(c,d)},i.prototype.handleMouseDown=function(a,b){a.preventDefault?a.preventDefault():a.returnValue=!1,f.mouseAndTouchNormalize(a,this.svg),this.options.dblClickZoomEnabled&&f.isDblClick(a,b)?this.handleDblClick(a):(this.state="pan",this.firstEventCTM=this.viewport.getCTM(),this.stateOrigin=g.getEventPoint(a,this.svg).matrixTransform(this.firstEventCTM.inverse()))},i.prototype.handleMouseMove=function(a){if(a.preventDefault?a.preventDefault():a.returnValue=!1,"pan"===this.state&&this.options.panEnabled){var b=g.getEventPoint(a,this.svg).matrixTransform(this.firstEventCTM.inverse()),c=this.firstEventCTM.translate(b.x-this.stateOrigin.x,b.y-this.stateOrigin.y);this.viewport.setCTM(c)}},i.prototype.handleMouseUp=function(a){a.preventDefault?a.preventDefault():a.returnValue=!1,"pan"===this.state&&(this.state="none")},i.prototype.fit=function(){var a=this.viewport.getViewBox(),b=Math.min(this.width/(a.width-a.x),this.height/(a.height-a.y));this.zoom(b,!0)},i.prototype.center=function(){var a=this.viewport.getViewBox(),b=.5*(this.width-(a.width+a.x)*this.getZoom()),c=.5*(this.height-(a.height+a.y)*this.getZoom());this.getPublicInstance().pan({x:b,y:c})},i.prototype.updateBBox=function(){this.viewport.recacheViewBox()},i.prototype.pan=function(a){var b=this.viewport.getCTM();b.e=a.x,b.f=a.y,this.viewport.setCTM(b)},i.prototype.panBy=function(a){var b=this.viewport.getCTM();b.e+=a.x,b.f+=a.y,this.viewport.setCTM(b)},i.prototype.getPan=function(){var a=this.viewport.getState();return{x:a.x,y:a.y}},i.prototype.resize=function(){var a=g.getBoundingClientRectNormalized(this.svg);this.width=a.width,this.height=a.height,this.options.controlIconsEnabled&&(this.getPublicInstance().disableControlIcons(),this.getPublicInstance().enableControlIcons())},i.prototype.destroy=function(){var a=this;this.beforeZoom=null,this.onZoom=null,this.beforePan=null,this.onPan=null,null!=this.options.customEventsHandler&&this.options.customEventsHandler.destroy({svgElement:this.svg,instance:this.getPublicInstance()});for(var b in this.eventListeners)this.svg.removeEventListener(b,this.eventListeners[b],!1);this.disableMouseWheelZoom(),this.getPublicInstance().disableControlIcons(),this.reset(),k=k.filter(function(b){return b.svg!==a.svg}),delete this.options,delete this.publicInstance,delete this.pi,this.getPublicInstance=function(){return null}},i.prototype.getPublicInstance=function(){var a=this;return this.publicInstance||(this.publicInstance=this.pi={enablePan:function(){return a.options.panEnabled=!0,a.pi},disablePan:function(){return a.options.panEnabled=!1,a.pi},isPanEnabled:function(){return!!a.options.panEnabled},pan:function(b){return a.pan(b),a.pi},panBy:function(b){return a.panBy(b),a.pi},getPan:function(){return a.getPan()},setBeforePan:function(b){return a.options.beforePan=null===b?null:f.proxy(b,a.publicInstance),a.pi},setOnPan:function(b){return a.options.onPan=null===b?null:f.proxy(b,a.publicInstance),a.pi},enableZoom:function(){return a.options.zoomEnabled=!0,a.pi},disableZoom:function(){return a.options.zoomEnabled=!1,a.pi},isZoomEnabled:function(){return!!a.options.zoomEnabled},enableControlIcons:function(){return a.options.controlIconsEnabled||(a.options.controlIconsEnabled=!0,e.enable(a)),a.pi},disableControlIcons:function(){return a.options.controlIconsEnabled&&(a.options.controlIconsEnabled=!1,e.disable(a)),a.pi},isControlIconsEnabled:function(){return!!a.options.controlIconsEnabled},enableDblClickZoom:function(){return a.options.dblClickZoomEnabled=!0,a.pi},disableDblClickZoom:function(){return a.options.dblClickZoomEnabled=!1,a.pi},isDblClickZoomEnabled:function(){return!!a.options.dblClickZoomEnabled},enableMouseWheelZoom:function(){return a.enableMouseWheelZoom(),a.pi},disableMouseWheelZoom:function(){return a.disableMouseWheelZoom(),a.pi},isMouseWheelZoomEnabled:function(){return!!a.options.mouseWheelZoomEnabled},setZoomScaleSensitivity:function(b){return a.options.zoomScaleSensitivity=b,a.pi},setMinZoom:function(b){return a.options.minZoom=b,a.pi},setMaxZoom:function(b){return a.options.maxZoom=b,a.pi},setBeforeZoom:function(b){return a.options.beforeZoom=null===b?null:f.proxy(b,a.publicInstance),a.pi},setOnZoom:function(b){return a.options.onZoom=null===b?null:f.proxy(b,a.publicInstance),a.pi},zoom:function(b){return a.publicZoom(b,!0),a.pi},zoomBy:function(b){return a.publicZoom(b,!1),a.pi},zoomAtPoint:function(b,c){return a.publicZoomAtPoint(b,c,!0),a.pi},zoomAtPointBy:function(b,c){return a.publicZoomAtPoint(b,c,!1),a.pi},zoomIn:function(){return this.zoomBy(1+a.options.zoomScaleSensitivity),a.pi},zoomOut:function(){return this.zoomBy(1/(1+a.options.zoomScaleSensitivity)),a.pi},getZoom:function(){return a.getRelativeZoom()},resetZoom:function(){return a.resetZoom(),a.pi},resetPan:function(){return a.resetPan(),a.pi},reset:function(){return a.reset(),a.pi},fit:function(){return a.fit(),a.pi},center:function(){return a.center(),a.pi},updateBBox:function(){return a.updateBBox(),a.pi},resize:function(){return a.resize(),a.pi},getSizes:function(){return{width:a.width,height:a.height,realZoom:a.getZoom(),viewBox:a.viewport.getViewBox()}},destroy:function(){return a.destroy(),a.pi}}),this.publicInstance};var k=[],l=function(a,b){var c=f.getSvg(a);if(null===c)return null;for(var d=k.length-1;d>=0;d--)if(k[d].svg===c)return k[d].instance.getPublicInstance();return k.push({svg:c,instance:new i(c,b)}),k[k.length-1].instance.getPublicInstance()};b.exports=l},{"./control-icons":2,"./shadow-viewport":3,"./svg-utilities":5,"./uniwheel":6,"./utilities":7}],5:[function(a,b,c){var d=a("./utilities"),e="unknown";document.documentMode&&(e="ie"),b.exports={svgNS:"http://www.w3.org/2000/svg",xmlNS:"http://www.w3.org/XML/1998/namespace",xmlnsNS:"http://www.w3.org/2000/xmlns/",xlinkNS:"http://www.w3.org/1999/xlink",evNS:"http://www.w3.org/2001/xml-events",getBoundingClientRectNormalized:function(a){if(a.clientWidth&&a.clientHeight)return{width:a.clientWidth,height:a.clientHeight};if(a.getBoundingClientRect())return a.getBoundingClientRect();throw new Error("Cannot get BoundingClientRect for SVG.")},getOrCreateViewport:function(a,b){var c=null;if(c=d.isElement(b)?b:a.querySelector(b),!c){var e=Array.prototype.slice.call(a.childNodes||a.children).filter(function(a){return"defs"!==a.nodeName&&"#text"!==a.nodeName});1===e.length&&"g"===e[0].nodeName&&null===e[0].getAttribute("transform")&&(c=e[0])}if(!c){var f="viewport-"+(new Date).toISOString().replace(/\D/g,"");c=document.createElementNS(this.svgNS,"g"),c.setAttribute("id",f);var g=a.childNodes||a.children;if(g&&g.length>0)for(var h=g.length;h>0;h--)"defs"!==g[g.length-h].nodeName&&c.appendChild(g[g.length-h]);a.appendChild(c)}var i=[];return c.getAttribute("class")&&(i=c.getAttribute("class").split(" ")),~i.indexOf("svg-pan-zoom_viewport")||(i.push("svg-pan-zoom_viewport"),c.setAttribute("class",i.join(" "))),c},setupSvgAttributes:function(a){if(a.setAttribute("xmlns",this.svgNS),a.setAttributeNS(this.xmlnsNS,"xmlns:xlink",this.xlinkNS),a.setAttributeNS(this.xmlnsNS,"xmlns:ev",this.evNS),null!==a.parentNode){var b=a.getAttribute("style")||"";-1===b.toLowerCase().indexOf("overflow")&&a.setAttribute("style","overflow: hidden; "+b)}},internetExplorerRedisplayInterval:300,refreshDefsGlobal:d.throttle(function(){for(var a=document.querySelectorAll("defs"),b=a.length,c=0;b>c;c++){var d=a[c];d.parentNode.insertBefore(d,d)}},this.internetExplorerRedisplayInterval),setCTM:function(a,b,c){var d=this,f="matrix("+b.a+","+b.b+","+b.c+","+b.d+","+b.e+","+b.f+")";a.setAttributeNS(null,"transform",f),"ie"===e&&c&&(c.parentNode.insertBefore(c,c),window.setTimeout(function(){d.refreshDefsGlobal()},d.internetExplorerRedisplayInterval))},getEventPoint:function(a,b){var c=b.createSVGPoint();return d.mouseAndTouchNormalize(a,b),c.x=a.clientX,c.y=a.clientY,c},getSvgCenterPoint:function(a,b,c){return this.createSVGPoint(a,b/2,c/2)},createSVGPoint:function(a,b,c){var d=a.createSVGPoint();return d.x=b,d.y=c,d}}},{"./utilities":7}],6:[function(a,b,c){b.exports=function(){function a(a,b,c){var d=function(a){!a&&(a=window.event);var c={originalEvent:a,target:a.target||a.srcElement,type:"wheel",deltaMode:"MozMousePixelScroll"==a.type?0:1,deltaX:0,delatZ:0,preventDefault:function(){a.preventDefault?a.preventDefault():a.returnValue=!1}};return"mousewheel"==j?(c.deltaY=-1/40*a.wheelDelta,a.wheelDeltaX&&(c.deltaX=-1/40*a.wheelDeltaX)):c.deltaY=a.detail,b(c)};return l.push({element:a,fn:d,capture:c}),d}function b(a,b){for(var c=0;c<l.length;c++)if(l[c].element===a&&l[c].capture===b)return l[c].fn;return function(){}}function c(a,b){for(var c=0;c<l.length;c++)if(l[c].element===a&&l[c].capture===b)return l.splice(c,1)}function d(b,c,d,e){var f;f="wheel"===j?d:a(b,d,e),b[h](k+c,f,e||!1)}function e(a,d,e,f){"wheel"===j?cb=e:cb=b(a,f),a[i](k+d,cb,f||!1),c(a,f)}function f(a,b,c){d(a,j,b,c),"DOMMouseScroll"==j&&d(a,"MozMousePixelScroll",b,c)}function g(a,b,c){e(a,j,b,c),"DOMMouseScroll"==j&&e(a,"MozMousePixelScroll",b,c)}var h,i,j,k="",l=[];return window.addEventListener?(h="addEventListener",i="removeEventListener"):(h="attachEvent",i="detachEvent",k="on"),j="onwheel"in document.createElement("div")?"wheel":void 0!==document.onmousewheel?"mousewheel":"DOMMouseScroll",{on:f,off:g}}()},{}],7:[function(a,b,c){function d(a){return function(b){window.setTimeout(b,a)}}b.exports={extend:function(a,b){a=a||{};for(var c in b)this.isObject(b[c])?a[c]=this.extend(a[c],b[c]):a[c]=b[c];return a},isElement:function(a){return a instanceof HTMLElement||a instanceof SVGElement||a instanceof SVGSVGElement||a&&"object"==typeof a&&null!==a&&1===a.nodeType&&"string"==typeof a.nodeName},isObject:function(a){return"[object Object]"===Object.prototype.toString.call(a)},isNumber:function(a){return!isNaN(parseFloat(a))&&isFinite(a)},getSvg:function(a){var b,c;if(this.isElement(a))b=a;else{if(!("string"==typeof a||a instanceof String))throw new Error("Provided selector is not an HTML object nor String");if(b=document.querySelector(a),!b)throw new Error("Provided selector did not find any elements. Selector: "+a)}if("svg"===b.tagName.toLowerCase())c=b;else if("object"===b.tagName.toLowerCase())c=b.contentDocument.documentElement;else{if("embed"!==b.tagName.toLowerCase())throw"img"===b.tagName.toLowerCase()?new Error('Cannot script an SVG in an "img" element. Please use an "object" element or an in-line SVG.'):new Error("Cannot get SVG.");c=b.getSVGDocument().documentElement}return c},proxy:function(a,b){return function(){return a.apply(b,arguments)}},getType:function(a){return Object.prototype.toString.apply(a).replace(/^\[object\s/,"").replace(/\]$/,"")},mouseAndTouchNormalize:function(a,b){if(void 0===a.clientX||null===a.clientX)if(a.clientX=0,a.clientY=0,void 0!==a.changedTouches&&a.changedTouches.length){if(void 0!==a.changedTouches[0].clientX)a.clientX=a.changedTouches[0].clientX,a.clientY=a.changedTouches[0].clientY;else if(void 0!==a.changedTouches[0].pageX){var c=b.getBoundingClientRect();a.clientX=a.changedTouches[0].pageX-c.left,a.clientY=a.changedTouches[0].pageY-c.top}}else void 0!==a.originalEvent&&void 0!==a.originalEvent.clientX&&(a.clientX=a.originalEvent.clientX,a.clientY=a.originalEvent.clientY)},isDblClick:function(a,b){if(2===a.detail)return!0;if(void 0!==b&&null!==b){var c=a.timeStamp-b.timeStamp,d=Math.sqrt(Math.pow(a.clientX-b.clientX,2)+Math.pow(a.clientY-b.clientY,2));return 250>c&&10>d}return!1},now:Date.now||function(){return(new Date).getTime()},throttle:function(a,b,c){var d,e,f,g=this,h=null,i=0;c||(c={});var j=function(){i=c.leading===!1?0:g.now(),h=null,f=a.apply(d,e),h||(d=e=null)};return function(){var k=g.now();i||c.leading!==!1||(i=k);var l=b-(k-i);return d=this,e=arguments,0>=l||l>b?(clearTimeout(h),h=null,i=k,f=a.apply(d,e),h||(d=e=null)):h||c.trailing===!1||(h=setTimeout(j,l)),f}},createRequestAnimationFrame:function(a){var b=null;return"auto"!==a&&60>a&&a>1&&(b=Math.floor(1e3/a)),null===b?window.requestAnimationFrame||d(33):d(b)}}},{}]},{},[1]),window.NJMS=window.NJMS||{},function(a){"use strict";a.tables={eco:{labels:{pm25:"[초미세먼지] 범례: ㎍/㎥",pm:"[미세먼지] 범례: ㎍/㎥",total:"[대기환경지수] 범례",ozone:"[오존] 범례: ppm"},legends:{pm25:["점검중","좋음 (0~15)","보통 (16~35)","나쁨 (36~75)","매우나쁨 (76~)"],pm:["점검중","좋음 (0~30)","보통 (31~80)","나쁨 (81~150)","매우나쁨 (151~)"],total:["점검중","좋음 (0~50)","보통 (51~100)","나쁨 (101~250)","매우나쁨 (251~)"],ozone:["점검중","좋음 (0~0.030)","보통 (0.031~0.090)","나쁨 (0.091~0.150)","매우나쁨 (0.151~)"]},nodeMap:{"강남구":"gangnam","강동구":"gangdong","강북구":"gangbuk","강서구":"gangseo","관악구":"gwanak","광진구":"gwangjin","구로구":"guro","금천구":"geumcheon","노원구":"nowon","도봉구":"dobong","동대문구":"dongdaemun","동작구":"dongjak","마포구":"mapo","서대문구":"seodaemun","서초구":"seocho","성동구":"seongdong","성북구":"seongbuk","송파구":"songpa","양천구":"yangcheon","영등포구":"yeongdeungpo","용산구":"yongsan","은평구":"eunpyeong","종로구":"jongno","중구":"jung","중랑구":"jungnang"}},traffic:{avenues:{"avenue-1":{ko:"압구정·학동·도산",en:"Gangnam 1"},"avenue-2":{ko:"강남대로·논현·언주로",en:"Gangnam 3"},"avenue-3":{ko:"천호·광나룻길·구의로",en:"Seongdong, Gwangjin"},"avenue-4":{ko:"봉은사·테헤란·역삼로",en:"Gangnam 2"},"avenue-5":{ko:"동부간선·동1/2",en:"Dongbuk 1"},"avenue-6":{ko:"올림픽대로·둔촌로",en:"Songpa, Gangdong"},"avenue-7":{ko:"신촌·성산·통일로",en:"Seobuk"},"avenue-8":{ko:"미아·북부간선·천호",en:"Dongbuk 2"},"avenue-9":{ko:"경인·시흥·남부순환",en:"Gangseo 2"},"avenue-10":{ko:"안양천·서부간선",en:"Gangseo 1"},"avenue-11":{ko:"종로·을지로·퇴계로",en:"Dongdaemun, Cheonggyecheon"},"avenue-12":{ko:"남산터널(1·2·3)",en:"Tunnels"},"avenue-13":{ko:"한강교량·내부순환",en:"Bridges, Naebu Expr"},"avenue-14":{ko:"공항·제물포·영등포",en:"Gangseo 3"},"avenue-15":{ko:"세종·우정국·돈화문",en:"Downtown 2"},"avenue-16":{ko:"종로3·동대문·청계천",en:"Downtown 1"},"avenue-17":{ko:"강변북로(상세)",en:"Gangbyeon Expy"},"avenue-18":{ko:"올림픽로(상세)",en:"Olympic Expy"},"avenue-19":{ko:"내부순환(상세)",en:"Naebu Expy"},"avenue-20":{ko:"북부간선(상세)",en:"Bukbu Expy"},"avenue-21":{ko:"동부간선(상세)",en:"Dongbu Expy"},"avenue-22":{ko:"외곽순환(상세)",en:"Seoul Ring Expy"},"avenue-23":{ko:"경부고속(상세)",en:"Gyeongbu Expy"},"avenue-24":{ko:"경인고속(상세)",en:"Gyeongin Expy"},"avenue-25":{ko:"제2경인고속(상세)",en:"Gyeongin 2 Expy"},"avenue-26":{ko:"서해안로(상세)",en:"Seohaean Expy"},"avenue-27":{ko:"인천고속(상세)",en:"ICN Airport Expy"},"avenue-28":{ko:"중부고속(상세)",en:"Jungbu Expy"},"avenue-29":{ko:"남산권(상세)",en:"Namsan Area"}},avenueGroups:{"avenue-group-1":["avenue-7"],"avenue-group-2":["avenue-5","avenue-8","avenue-20","avenue-21"],"avenue-group-3":["avenue-14","avenue-9","avenue-10","avenue-24"],"avenue-group-4":["avenue-13","avenue-17","avenue-18"],"avenue-group-5":["avenue-7","avenue-13","avenue-19"],"avenue-group-6":["avenue-13","avenue-19"],"avenue-group-7":["avenue-13","avenue-8","avenue-19","avenue-20"],"avenue-group-8":["avenue-7"],"avenue-group-9":["avenue-11","avenue-15","avenue-16"],"avenue-group-10":["avenue-3","avenue-21"],"avenue-group-11":["avenue-1","avenue-2","avenue-4"],"avenue-group-12":["avenue-6"],"avenue-group-13":["avenue-12","avenue-29"],"avenue-group-14":["avenue-22"],"avenue-group-15":["avenue-22","avenue-27"],"avenue-group-16":["avenue-22"],"avenue-group-17":["avenue-22"],"avenue-group-18":["avenue-22"],"avenue-group-19":["avenue-22"],"avenue-group-20":["avenue-17","avenue-18"],"avenue-group-21":["avenue-24"],"avenue-group-22":["avenue-17","avenue-18","avenue-21"],"avenue-group-23":["avenue-17","avenue-18"],"avenue-group-24":["avenue-21"],"avenue-group-25":["avenue-23"],"avenue-group-26":["avenue-22","avenue-28"],"avenue-group-27":["avenue-25","avenue-26"]},colours:{normal:{FA:"#17c700",SL:"#ffa919",ST:"#f43736","null":"#c0c0c0"},weakness:{FA:"#ffffff",SL:"#c0c0c0",ST:"#656565","null":"#010002"}},nodeMap:{LKR2000000:"GBB-WE-1",LKR2000010:"GBB-WE-2",LKR2000020:"GBB-WE-3",LKR2000030:"GBB-WE-4",LKR2000040:"GBB-WE-5",LKO2000030:"GBB-WE-6",LKO2000040:"GBB-WE-7",LKO2000050:"GBB-WE-8",LKO2000060:"GBB-WE-9",LKO2000070:"GBB-WE-10",LKO2000080:"GBB-WE-11",LKO2000090:"GBB-WE-12",LKO2000100:"GBB-WE-13",LKO2000110:"GBB-WE-14",LKO2000120:"GBB-WE-15",LKR2000155:"GBB-WE-16",LKR2000170:"GBB-WE-17",LKR2000180:"GBB-WE-18",LKR2000190:"GBB-WE-19",LKR2000200:"GBB-WE-20",LKR2000210:"GBB-WE-21",LKR2000220:"GBB-WE-22",LKR2000230:"GBB-WE-23",LKL2000140:"GBB-EW-1",LKL2000120:"GBB-EW-2",LKL2000050:"GBB-EW-3",LKL2000060:"GBB-EW-4",LKL2000070:"GBB-EW-5",LKL2000080:"GBB-EW-6",LKL2000090:"GBB-EW-7",LKL2000100:"GBB-EW-8",LKL2000105:"GBB-EW-9",LKI2000090:"GBB-EW-10",LKI2000100:"GBB-EW-11",LKI2000110:"GBB-EW-12",LKI2000120:"GBB-EW-13",LKI2000130:"GBB-EW-14",LKI2000140:"GBB-EW-15",LKI2000150:"GBB-EW-16",LKI2000160:"GBB-EW-17",LKI2000170:"GBB-EW-18",LKL2000010:"GBB-EW-19",LKL2000020:"GBB-EW-20",LKL2000030:"GBB-EW-21",LKL2000040:"GBB-EW-22",LKL2000130:"GBB-EW-23",LFD2000010:"GBEX-NS-1",LFD2000020:"GBEX-NS-2",LFD2000030:"GBEX-NS-3",LFD2000040:"GBEX-NS-4",LFD2000050:"GBEX-NS-5",LFD2000060:"GBEX-NS-6",LFD2000070:"GBEX-NS-7",LFU2000060:"GBEX-SN-1",LFU2000050:"GBEX-SN-2",LFU2000040:"GBEX-SN-3",LFU2000010:"GBEX-SN-4",LFU2000020:"GBEX-SN-5",LFU2000030:"GBEX-SN-6",LPE2000010:"GIEX-WE-1",LPE2000020:"GIEX-WE-2",LPE2000030:"GIEX-WE-3",LPW2000010:"GIEX-EW-1",LPW2000020:"GIEX-EW-2",LPW2000030:"GIEX-EW-3",LRI2000010:"NB-CW-1",LRI2000020:"NB-CW-2",LRI2000030:"NB-CW-3",LRI2000040:"NB-CW-4",LRI2000050:"NB-CW-5",LRI2000060:"NB-CW-6",LRI2000070:"NB-CW-7",LRI2000080:"NB-CW-8",LRI2000090:"NB-CW-9",LRI2000100:"NB-CW-10",LRI2000110:"NB-CW-11",LRI2000120:"NB-CW-12",LRI2000135:"NB-CW-13",LRI2000150:"NB-CW-14",LRO2000010:"NB-CCW-1",LRO2000025:"NB-CCW-2",LRO2000040:"NB-CCW-3",LRO2000050:"NB-CCW-4",LRO2000060:"NB-CCW-5",LRO2000070:"NB-CCW-6",LRO2000080:"NB-CCW-7",LRO2000090:"NB-CCW-8",LRO2000100:"NB-CCW-9",LRO2000110:"NB-CCW-10",LRO2000120:"NB-CCW-11",LRO2000130:"NB-CCW-12",LRO2000140:"NB-CCW-13",LRO2000150:"NB-CCW-14",LDI2000010:"DB-NS-1",LDI2000025:"DB-NS-2",LDI2000030:"DB-NS-3",LDI2000040:"DB-NS-4",LDI2000050:"DB-NS-5",LDI2000060:"DB-NS-6",LDI2000070:"DB-NS-7",LDI2000080:"DB-NS-8",LDI2000090:"DB-NS-9",LDI2000020:"DB-NS-10",LHD2000160:"DB-NS-11",LDI2000110:"DB-NS-12",LDI2000120:"DB-NS-13",LDI2000130:"DB-NS-14",LDO2000015:"DB-SN-1",LDO2000020:"DB-SN-2",LDO2000030:"DB-SN-3",LHU2000160:"DB-SN-4",LDO2000010:"DB-SN-5",LDO2000050:"DB-SN-6",LDO2000060:"DB-SN-7",LDO2000070:"DB-SN-8",LDO2000080:"DB-SN-9",LDO2000090:"DB-SN-10",LDO2000100:"DB-SN-11",LDO2000110:"DB-SN-12",LDO2000120:"DB-SN-13",LDO2000130:"DB-SN-14",LDO2000140:"DB-SN-15",LBL2000060:"BB-EW-1",LBL2000010:"BB-EW-2",LBL2000020:"BB-EW-3",LBL2000030:"BB-EW-4",LBL2000040:"BB-EW-5",LBL2000050:"BB-EW-6",LBR2000010:"BB-WE-1",LBR2000020:"BB-WE-2",LBR2000030:"BB-WE-3",LBR2000040:"BB-WE-4",LBR2000050:"BB-WE-5",LBR2000060:"BB-WE-6",LTU2000010:"SHAEX-SN-1",LTU2000020:"SHAEX-SN-2",LTU2000030:"SHAEX-SN-3",LTD2000020:"SHAEX-NS-1",LTD2000030:"SHAEX-NS-2",LTD2000040:"SHAEX-NS-3",LLL2000190:"OLP-EW-1",LLL2000180:"OLP-EW-2",LLL2000170:"OLP-EW-3",LLL2000160:"OLP-EW-4",LLL2000150:"OLP-EW-5",LLL2000140:"OLP-EW-6",LLL2000130:"OLP-EW-7",LLL2000120:"OLP-EW-8",LLL2000110:"OLP-EW-9",LLL2000100:"OLP-EW-10",LLL2000090:"OLP-EW-11",LLL2000080:"OLP-EW-12",LLL2000070:"OLP-EW-13",LLL2000060:"OLP-EW-14",LLL2000050:"OLP-EW-15",LLL2000040:"OLP-EW-16",LLL2000030:"OLP-EW-17",LLL2000020:"OLP-EW-18",LLL2000010:"OLP-EW-19",LLR2000010:"OLP-WE-1",LLR2000020:"OLP-WE-2",LLR2000030:"OLP-WE-3",LLR2000040:"OLP-WE-4",LLR2000050:"OLP-WE-5",LLR2000060:"OLP-WE-6",LLR2000070:"OLP-WE-7",LLR2000080:"OLP-WE-8",LLR2000090:"OLP-WE-9",LLR2000100:"OLP-WE-10",LLR2000110:"OLP-WE-11",LLR2000120:"OLP-WE-12",LLR2000130:"OLP-WE-13",LLR2000140:"OLP-WE-14",LLR2000150:"OLP-WE-15",LLR2000160:"OLP-WE-16",LLR2000170:"OLP-WE-17",LLR2000180:"OLP-WE-18",LLR2000190:"OLP-WE-19",LSI2000010:"OGEX-CW-1",LSI2000020:"OGEX-CW-2",LSI2000030:"OGEX-CW-3",LSI2000040:"OGEX-CW-4",LSI2000050:"OGEX-CW-5",LSI2000060:"OGEX-CW-6",LSI2000070:"OGEX-CW-7",LSI2000080:"OGEX-CW-8",LSI2000090:"OGEX-CW-9",LSI2000100:"OGEX-CW-10",LSI2000110:"OGEX-CW-11",LSI2000120:"OGEX-CW-12",LSI2000130:"OGEX-CW-13",LSI2000140:"OGEX-CW-14",LSI2000150:"OGEX-CW-15",LSI2000160:"OGEX-CW-16",LSI2000170:"OGEX-CW-17",LSI2000180:"OGEX-CW-18",LSI2000190:"OGEX-CW-19",LSI2000200:"OGEX-CW-20",LSI2000210:"OGEX-CW-21",LSI2000220:"OGEX-CW-22",LSI2000230:"OGEX-CW-23",LSI2000240:"OGEX-CW-24",LSI2000250:"OGEX-CW-25",LSI2000260:"OGEX-CW-26",LSI2000270:"OGEX-CW-27",LSI2000280:"OGEX-CW-28",LSI2000290:"OGEX-CW-29",LSI2000300:"OGEX-CW-30",LSI2000320:"OGEX-CW-31",LSI2000330:"OGEX-CW-32",LSO2000010:"OGEX-CCW-1",LSO2000020:"OGEX-CCW-2",LSO2000030:"OGEX-CCW-3",LSO2000040:"OGEX-CCW-4",LSO2000050:"OGEX-CCW-5",LSO2000060:"OGEX-CCW-6",LSO2000070:"OGEX-CCW-7",LSO2000080:"OGEX-CCW-8",LSO2000090:"OGEX-CCW-9",LSO2000100:"OGEX-CCW-10",LSO2000110:"OGEX-CCW-11",LSO2000120:"OGEX-CCW-12",LSO2000130:"OGEX-CCW-13",LSO2000140:"OGEX-CCW-14",LSO2000150:"OGEX-CCW-15",LSO2000160:"OGEX-CCW-16",LSO2000170:"OGEX-CCW-17",LSO2000180:"OGEX-CCW-18",LSO2000190:"OGEX-CCW-19",LSO2000200:"OGEX-CCW-20",LSO2000210:"OGEX-CCW-21",LSO2000220:"OGEX-CCW-22",LSO2000230:"OGEX-CCW-23",LSO2000240:"OGEX-CCW-24",LSO2000250:"OGEX-CCW-25",LSO2000260:"OGEX-CCW-26",LSO2000270:"OGEX-CCW-27",LSO2000280:"OGEX-CCW-28",LSO2000300:"OGEX-CCW-29",LSO2000310:"OGEX-CCW-30",LSO2000320:"OGEX-CCW-31",LSO2000330:"OGEX-CCW-32",LID2000010:"ICNEX-EW-1",LID2000020:"ICNEX-EW-2",LID2000030:"ICNEX-EW-3",LID2000040:"ICNEX-EW-4",LIU2000070:"ICNEX-WE-1",LIU2000080:"ICNEX-WE-2",LIU2000090:"ICNEX-WE-3",LIU2000100:"ICNEX-WE-4",LQE2000010:"GI2EX-WE-1",LQE2000020:"GI2EX-WE-2",LQE2000030:"GI2EX-WE-3",LQE2000040:"GI2EX-WE-4",LQW2000010:"GI2EX-EW-1",LQW2000020:"GI2EX-EW-2",LQW2000030:"GI2EX-EW-3",LQW2000040:"GI2EX-EW-4",LJU2000010:"JBEX-SN-1",LJU2000020:"JBEX-SN-2",LJD2000010:"JBEX-NS-1",LJD2000020:"JBEX-NS-2"}}}}(window.NJMS),function(a){"use strict";function b(a){return e=a,e.style.width="100%",f=a.contentDocument,g=f.getElementById("svg"),this}function c(b){b.forEach(function(b){var c=b.DATA,d=a.tables.eco.nodeMap[b.MSRSTENAME],e=f.getElementById("map-icon-"+d);e&&([0,1,2,3,4].forEach(function(a){removeClass(e,"icon-"+a)}),addClass(e,"icon-"+c),e.getElementsByTagName("text")[0].textContent=c);var g=f.getElementById("map-region-"+d);g&&([0,1,2,3,4].forEach(function(a){removeClass(g,"region-"+a)}),addClass(g,"region-"+c))})}function d(b,c){f.getElementById("legend-title").textContent=a.tables.eco.labels[b],[0,1,2,3,4].forEach(function(a){f.getElementById("legend-label-"+a).textContent=c[a]})}var e,f,g;b.prototype.loadData=function(b){var e=b.type,f=b.data.airList;d(e,a.tables.eco.legends[e]),c(f)},b.prototype.setColourWeakness=function(a){a?addClass(g,"colour-weakness"):removeClass(g,"colour-weakness")},a.Eco=b}(window.NJMS),function(a){"use strict";function b(a,b){var c=this;return f=a,f.style.width="100%",g=f.getContext("2d"),h=document.createElement("img"),h.src=f.getAttribute("data-src"),h.onload=function(){i=h.naturalHeight,j=h.naturalWidth,f.height=i,f.width=j,e(),c.setColourWeakness(b)},window.addEventListener("resize",e),this}function c(){return[-.3025250415969071,.9997893264157228,.36717957771816145]}function d(){return[{sx:parseInt(46.2*j/100),sy:parseInt(13.8*i/100),dx:parseInt(45*j/100),dy:parseInt(4.5*i/100)},{sx:parseInt(0),sy:parseInt(i/10*2),dx:parseInt(j),dy:parseInt(i/10*8)}]}function e(){f.style.height=f.clientWidth*f.height/f.width+"px"}var f,g,h,i,j;b.prototype.setColourWeakness=function(a){if(g.drawImage(h,0,0,j,i,0,0,j,i),a){var b=g.getImageData(0,0,j,i),e=c();d().forEach(function(a){for(var c,d,f=a.sx;f<a.sx+a.dx;f++)for(var g=a.sy;g<a.sy+a.dy;g++)c=4*f+g*j*4,d=e[0]*b.data[c]+e[1]*b.data[c+1]+e[2]*b.data[c+2],b.data[c]=b.data[c+1]=b.data[c+2]=d}),g.putImageData(b,0,0)}},a.Topis=b}(window.NJMS),function(a){"use strict";function b(a,b){i=a,i.style.width="100%";var e=a.getElementsByTagName("object");return j=e[0],k=e[1],l=j.contentDocument,m=k.contentDocument,n=l.getElementById("svg"),o=m.getElementById("svg"),u=b,p={width:640,height:520.1},window.addEventListener("resize",f),f(),d(),c(this),this}function c(a){r=document.createElement("div"),r.setAttribute("class","popover hidden"),r.innerHTML='<ul></ul><div class="popover-arrow">&nbsp;</div>',i.appendChild(r),i.addEventListener("click",function(b){return b.target.getAttribute("data-avenue")?(g(),a.onClickPopoverLink(b.target.getAttribute("data-avenue")),b.preventDefault(),!1):void 0});var b=new Hammer.Manager(n);b.add(new Hammer.Tap({event:"singletap"})),b.on("singletap",e)}function d(){q=document.createElement("div"),q.setAttribute("class","zoomer"),q.innerHTML='<button type="button" data-zoom="plus">+</button><button type="button" data-zoom="minus">-</button>',q.onclick=function(a){switch(a.target.getAttribute("data-zoom")){case"plus":s.zoomIn();break;case"minus":s.zoomOut()}s.center()},i.appendChild(q),s=svgPanZoom(j,{panEnabled:!0,controlIconsEnabled:!1,zoomEnabled:!0,dblClickZoomEnabled:!1,mouseWheelZoomEnabled:!1,zoomScaleSensitivity:1,minZoom:1,maxZoom:4,fit:!0,center:!0,refreshRate:"auto",beforeZoom:function(){g()},beforePan:function(a,b){g();var c=p.width,d=p.height,e=this.getSizes(),f=-((e.viewBox.x+e.viewBox.width)*e.realZoom)+c,h=e.width-c-e.viewBox.x*e.realZoom,i=-((e.viewBox.y+e.viewBox.height)*e.realZoom)+d,j=e.height-d-e.viewBox.y*e.realZoom;return{x:Math.max(f,Math.min(h,b.x)),y:Math.max(i,Math.min(j,b.y))}},customEventsHandler:{haltEventListeners:["touchstart","touchend","touchmove","touchleave","touchcancel"],init:function(a){var b=a.instance,c=1,d=0,e=0;t=new Hammer(a.svgElement,{inputClass:Hammer.SUPPORT_POINTER_EVENTS?Hammer.PointerEventInput:Hammer.TouchInput}),t.get("pinch").set({enable:!0}),t.on("doubletap",function(){b.zoomIn()}),t.on("pan panstart panend",function(a){var c=100*s.getZoom()>101;if("panstart"===a.type&&(d=0,e=0),"pan"===a.type||"panend"===a.type){if(!c)return window.scrollBy(-a.deltaX,-a.deltaY);b.panBy({x:a.deltaX-d,y:a.deltaY-e}),d=a.deltaX,e=a.deltaY}}),t.on("pinch pinchstart pinchend",function(a){"pinchstart"===a.type&&(c=b.getZoom(),b.zoom(c*a.scale)),("pinch"===a.type||"pinchend"===a.type)&&b.zoom(c*a.scale)}),a.svgElement.addEventListener("touchmove",function(a){a.preventDefault()})},destroy:function(){t.destroy()}}})}function e(b){if(-1===(b.target.getAttribute("class")||"").indexOf("avenue-group"))return g();var c=a.tables.traffic.avenueGroups[b.target.id];if(c&&c.length){var d=c.map(function(b){return{label:a.tables.traffic.avenues[b][u],avenue:b}});r.getElementsByTagName("ul")[0].innerHTML=d.reduce(function(a,b){return a+='<li data-avenue="'+b.avenue+'">'+b.label+"</li>"},""),h();var e=b.pointers[0].clientX,f=b.pointers[0].clientY;r.style.top=f-r.clientHeight+"px",r.style.left=Math.min(window.innerWidth-r.clientWidth-8,Math.max(0,e-r.clientWidth/2))+"px"}}function f(){j.style.width=i.clientWidth+"px",j.style.height=i.clientWidth*p.height/p.width+"px",i.style.height=j.clientHeight+k.clientHeight+"px",p={width:j.clientWidth,height:j.clientHeight}}function g(){addClass(r,"hidden")}function h(){removeClass(r,"hidden")}var i,j,k,l,m,n,o,p,q,r,s,t,u,v;b.prototype.insertTimestamp=function(a){m.getElementById("legend-time-timestamp").textContent=a},b.prototype.loadData=function(b){b.trafficList.forEach(function(b){var c=l.getElementById(a.tables.traffic.nodeMap[b.LINK_ID]);c&&addClass(c,b.STAT_CODE)})},b.prototype.onClickPopoverLink=function(){},b.prototype.setColourWeakness=function(a){v=a,v?(addClass(n,"colour-weakness"),addClass(o,"colour-weakness")):(removeClass(n,"colour-weakness"),removeClass(o,"colour-weakness"))},a.Traffic=b}(window.NJMS);